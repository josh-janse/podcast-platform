/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/process-document/route";
exports.ids = ["app/api/process-document/route"];
exports.modules = {

/***/ "(rsc)/../../node_modules/.pnpm/@supabase+realtime-js@2.11.10/node_modules/@supabase/realtime-js/dist/main sync recursive":
/*!*****************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@supabase+realtime-js@2.11.10/node_modules/@supabase/realtime-js/dist/main/ sync ***!
  \*****************************************************************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/../../node_modules/.pnpm/@supabase+realtime-js@2.11.10/node_modules/@supabase/realtime-js/dist/main sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/bullmq@5.53.2/node_modules/bullmq/dist/esm/classes lazy recursive referencedExports: default":
/*!*************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/bullmq@5.53.2/node_modules/bullmq/dist/esm/classes/ lazy referencedExports: default namespace object ***!
  \*************************************************************************************************************************************/
/***/ ((module) => {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(() => {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = () => ([]);
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "(rsc)/../../node_modules/.pnpm/bullmq@5.53.2/node_modules/bullmq/dist/esm/classes lazy recursive referencedExports: default";
module.exports = webpackEmptyAsyncContext;

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/next@15.3.3_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fprocess-document%2Froute&page=%2Fapi%2Fprocess-document%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprocess-document%2Froute.ts&appDir=%2FUsers%2Fjoshuajansevanrensburg%2FDesktop%2F4.%20Code%2Fpodcast-platform%2Fservices%2Fwebapp%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjoshuajansevanrensburg%2FDesktop%2F4.%20Code%2Fpodcast-platform%2Fservices%2Fwebapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@15.3.3_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fprocess-document%2Froute&page=%2Fapi%2Fprocess-document%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprocess-document%2Froute.ts&appDir=%2FUsers%2Fjoshuajansevanrensburg%2FDesktop%2F4.%20Code%2Fpodcast-platform%2Fservices%2Fwebapp%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjoshuajansevanrensburg%2FDesktop%2F4.%20Code%2Fpodcast-platform%2Fservices%2Fwebapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/../../node_modules/.pnpm/next@15.3.3_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/../../node_modules/.pnpm/next@15.3.3_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/../../node_modules/.pnpm/next@15.3.3_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_joshuajansevanrensburg_Desktop_4_Code_podcast_platform_services_webapp_src_app_api_process_document_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/process-document/route.ts */ \"(rsc)/./src/app/api/process-document/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/process-document/route\",\n        pathname: \"/api/process-document\",\n        filename: \"route\",\n        bundlePath: \"app/api/process-document/route\"\n    },\n    resolvedPagePath: \"/Users/joshuajansevanrensburg/Desktop/4. Code/podcast-platform/services/webapp/src/app/api/process-document/route.ts\",\n    nextConfigOutput,\n    userland: _Users_joshuajansevanrensburg_Desktop_4_Code_podcast_platform_services_webapp_src_app_api_process_document_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuMy4zX3JlYWN0LWRvbUAxOS4xLjBfcmVhY3RAMTkuMS4wX19yZWFjdEAxOS4xLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyL2luZGV4LmpzP25hbWU9YXBwJTJGYXBpJTJGcHJvY2Vzcy1kb2N1bWVudCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcHJvY2Vzcy1kb2N1bWVudCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnByb2Nlc3MtZG9jdW1lbnQlMkZyb3V0ZS50cyZhcHBEaXI9JTJGVXNlcnMlMkZqb3NodWFqYW5zZXZhbnJlbnNidXJnJTJGRGVza3RvcCUyRjQuJTIwQ29kZSUyRnBvZGNhc3QtcGxhdGZvcm0lMkZzZXJ2aWNlcyUyRndlYmFwcCUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZqb3NodWFqYW5zZXZhbnJlbnNidXJnJTJGRGVza3RvcCUyRjQuJTIwQ29kZSUyRnBvZGNhc3QtcGxhdGZvcm0lMkZzZXJ2aWNlcyUyRndlYmFwcCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDb0U7QUFDako7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9qb3NodWFqYW5zZXZhbnJlbnNidXJnL0Rlc2t0b3AvNC4gQ29kZS9wb2RjYXN0LXBsYXRmb3JtL3NlcnZpY2VzL3dlYmFwcC9zcmMvYXBwL2FwaS9wcm9jZXNzLWRvY3VtZW50L3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wcm9jZXNzLWRvY3VtZW50L3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcHJvY2Vzcy1kb2N1bWVudFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcHJvY2Vzcy1kb2N1bWVudC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9qb3NodWFqYW5zZXZhbnJlbnNidXJnL0Rlc2t0b3AvNC4gQ29kZS9wb2RjYXN0LXBsYXRmb3JtL3NlcnZpY2VzL3dlYmFwcC9zcmMvYXBwL2FwaS9wcm9jZXNzLWRvY3VtZW50L3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/next@15.3.3_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fprocess-document%2Froute&page=%2Fapi%2Fprocess-document%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprocess-document%2Froute.ts&appDir=%2FUsers%2Fjoshuajansevanrensburg%2FDesktop%2F4.%20Code%2Fpodcast-platform%2Fservices%2Fwebapp%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjoshuajansevanrensburg%2FDesktop%2F4.%20Code%2Fpodcast-platform%2Fservices%2Fwebapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/next@15.3.3_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@15.3.3_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/../../packages/shared/src/queues.ts":
/*!*******************************************!*\
  !*** ../../packages/shared/src/queues.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   podcastGenerationQueue: () => (/* binding */ podcastGenerationQueue)\n/* harmony export */ });\n/* harmony import */ var bullmq__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bullmq */ \"(rsc)/../../node_modules/.pnpm/bullmq@5.53.2/node_modules/bullmq/dist/esm/index.js\");\n/* harmony import */ var ioredis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ioredis */ \"(rsc)/../../node_modules/.pnpm/ioredis@5.6.1/node_modules/ioredis/built/index.js\");\n/* harmony import */ var ioredis__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(ioredis__WEBPACK_IMPORTED_MODULE_1__);\n// src/lib/queues.ts\n\n\n// Ensure your Redis connection details are in environment variables\nconst redisHost = process.env.REDIS_HOST || 'localhost';\nconst redisPort = parseInt(process.env.REDIS_PORT || '6379', 10);\n// Add password if your Redis instance requires it\n// const redisPassword = process.env.REDIS_PASSWORD;\n// Create a new connection to Redis\n// BullMQ recommends using IORedis for optimal performance\nconst connection = new (ioredis__WEBPACK_IMPORTED_MODULE_1___default())(redisPort, redisHost, {\n    // password: redisPassword, // Uncomment if you have a password\n    maxRetriesPerRequest: null,\n    enableReadyCheck: false\n});\nconnection.on('connect', ()=>{\n    console.log('Successfully connected to Redis for BullMQ.');\n});\nconnection.on('error', (err)=>{\n    console.error('Redis connection error for BullMQ:', err);\n});\n// Define your podcast generation queue\n// The first argument is the queue name, choose something descriptive.\nconst podcastGenerationQueue = new bullmq__WEBPACK_IMPORTED_MODULE_0__.Queue('podcast-generation', {\n    connection,\n    defaultJobOptions: {\n        attempts: 3,\n        backoff: {\n            type: 'exponential',\n            delay: 1000\n        },\n        removeOnComplete: {\n            count: 1000,\n            age: 24 * 60 * 60\n        },\n        removeOnFail: {\n            count: 5000,\n            age: 7 * 24 * 60 * 60\n        }\n    }\n});\n// You can export other queues here as needed\n// export const anotherQueue = new Queue('another-queue-name', { connection });\nconsole.log(`BullMQ queue \"podcast-generation\" initialized.`);\n// Graceful shutdown\nprocess.on('SIGINT', async ()=>{\n    await podcastGenerationQueue.close();\n    await connection.quit();\n    process.exit(0);\n});\nprocess.on('SIGTERM', async ()=>{\n    await podcastGenerationQueue.close();\n    await connection.quit();\n    process.exit(0);\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvc2hhcmVkL3NyYy9xdWV1ZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLG9CQUFvQjtBQUNXO0FBQ0Q7QUFFOUIsb0VBQW9FO0FBQ3BFLE1BQU1FLFlBQVlDLFFBQVFDLEdBQUcsQ0FBQ0MsVUFBVSxJQUFJO0FBQzVDLE1BQU1DLFlBQVlDLFNBQVNKLFFBQVFDLEdBQUcsQ0FBQ0ksVUFBVSxJQUFJLFFBQVE7QUFDN0Qsa0RBQWtEO0FBQ2xELG9EQUFvRDtBQUVwRCxtQ0FBbUM7QUFDbkMsMERBQTBEO0FBQzFELE1BQU1DLGFBQWEsSUFBSVIsZ0RBQU9BLENBQUNLLFdBQVdKLFdBQVc7SUFDbkQsK0RBQStEO0lBQy9EUSxzQkFBc0I7SUFDdEJDLGtCQUFrQjtBQUNwQjtBQUVBRixXQUFXRyxFQUFFLENBQUMsV0FBVztJQUN2QkMsUUFBUUMsR0FBRyxDQUFDO0FBQ2Q7QUFFQUwsV0FBV0csRUFBRSxDQUFDLFNBQVMsQ0FBQ0c7SUFDdEJGLFFBQVFHLEtBQUssQ0FBQyxzQ0FBc0NEO0FBQ3REO0FBRUEsdUNBQXVDO0FBQ3ZDLHNFQUFzRTtBQUMvRCxNQUFNRSx5QkFBeUIsSUFBSWpCLHlDQUFLQSxDQUFDLHNCQUFzQjtJQUNwRVM7SUFDQVMsbUJBQW1CO1FBQ2pCQyxVQUFVO1FBQ1ZDLFNBQVM7WUFDUEMsTUFBTTtZQUNOQyxPQUFPO1FBQ1Q7UUFDQUMsa0JBQWtCO1lBQ2RDLE9BQU87WUFDUEMsS0FBSyxLQUFLLEtBQUs7UUFDbkI7UUFDQUMsY0FBYztZQUNWRixPQUFPO1lBQ1BDLEtBQUssSUFBSSxLQUFLLEtBQUs7UUFDdkI7SUFDRjtBQUNGLEdBQUc7QUFFSCw2Q0FBNkM7QUFDN0MsK0VBQStFO0FBRS9FWixRQUFRQyxHQUFHLENBQUMsQ0FBQyw4Q0FBOEMsQ0FBQztBQUU1RCxvQkFBb0I7QUFDcEJYLFFBQVFTLEVBQUUsQ0FBQyxVQUFVO0lBQ25CLE1BQU1LLHVCQUF1QlUsS0FBSztJQUNsQyxNQUFNbEIsV0FBV21CLElBQUk7SUFDckJ6QixRQUFRMEIsSUFBSSxDQUFDO0FBQ2Y7QUFFQTFCLFFBQVFTLEVBQUUsQ0FBQyxXQUFXO0lBQ3BCLE1BQU1LLHVCQUF1QlUsS0FBSztJQUNsQyxNQUFNbEIsV0FBV21CLElBQUk7SUFDckJ6QixRQUFRMEIsSUFBSSxDQUFDO0FBQ2YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb3NodWFqYW5zZXZhbnJlbnNidXJnL0Rlc2t0b3AvNC4gQ29kZS9wb2RjYXN0LXBsYXRmb3JtL3BhY2thZ2VzL3NoYXJlZC9zcmMvcXVldWVzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9saWIvcXVldWVzLnRzXG5pbXBvcnQgeyBRdWV1ZSB9IGZyb20gJ2J1bGxtcSc7XG5pbXBvcnQgSU9SZWRpcyBmcm9tICdpb3JlZGlzJztcblxuLy8gRW5zdXJlIHlvdXIgUmVkaXMgY29ubmVjdGlvbiBkZXRhaWxzIGFyZSBpbiBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbmNvbnN0IHJlZGlzSG9zdCA9IHByb2Nlc3MuZW52LlJFRElTX0hPU1QgfHwgJ2xvY2FsaG9zdCc7XG5jb25zdCByZWRpc1BvcnQgPSBwYXJzZUludChwcm9jZXNzLmVudi5SRURJU19QT1JUIHx8ICc2Mzc5JywgMTApO1xuLy8gQWRkIHBhc3N3b3JkIGlmIHlvdXIgUmVkaXMgaW5zdGFuY2UgcmVxdWlyZXMgaXRcbi8vIGNvbnN0IHJlZGlzUGFzc3dvcmQgPSBwcm9jZXNzLmVudi5SRURJU19QQVNTV09SRDtcblxuLy8gQ3JlYXRlIGEgbmV3IGNvbm5lY3Rpb24gdG8gUmVkaXNcbi8vIEJ1bGxNUSByZWNvbW1lbmRzIHVzaW5nIElPUmVkaXMgZm9yIG9wdGltYWwgcGVyZm9ybWFuY2VcbmNvbnN0IGNvbm5lY3Rpb24gPSBuZXcgSU9SZWRpcyhyZWRpc1BvcnQsIHJlZGlzSG9zdCwge1xuICAvLyBwYXNzd29yZDogcmVkaXNQYXNzd29yZCwgLy8gVW5jb21tZW50IGlmIHlvdSBoYXZlIGEgcGFzc3dvcmRcbiAgbWF4UmV0cmllc1BlclJlcXVlc3Q6IG51bGwsIC8vIEltcG9ydGFudCBmb3IgQnVsbE1RXG4gIGVuYWJsZVJlYWR5Q2hlY2s6IGZhbHNlLCAvLyBJbXBvcnRhbnQgZm9yIEJ1bGxNUVxufSk7XG5cbmNvbm5lY3Rpb24ub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgY29ubmVjdGVkIHRvIFJlZGlzIGZvciBCdWxsTVEuJyk7XG59KTtcblxuY29ubmVjdGlvbi5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gIGNvbnNvbGUuZXJyb3IoJ1JlZGlzIGNvbm5lY3Rpb24gZXJyb3IgZm9yIEJ1bGxNUTonLCBlcnIpO1xufSk7XG5cbi8vIERlZmluZSB5b3VyIHBvZGNhc3QgZ2VuZXJhdGlvbiBxdWV1ZVxuLy8gVGhlIGZpcnN0IGFyZ3VtZW50IGlzIHRoZSBxdWV1ZSBuYW1lLCBjaG9vc2Ugc29tZXRoaW5nIGRlc2NyaXB0aXZlLlxuZXhwb3J0IGNvbnN0IHBvZGNhc3RHZW5lcmF0aW9uUXVldWUgPSBuZXcgUXVldWUoJ3BvZGNhc3QtZ2VuZXJhdGlvbicsIHtcbiAgY29ubmVjdGlvbixcbiAgZGVmYXVsdEpvYk9wdGlvbnM6IHtcbiAgICBhdHRlbXB0czogMywgLy8gTnVtYmVyIG9mIHRpbWVzIHRvIHJldHJ5IGEgam9iIGlmIGl0IGZhaWxzXG4gICAgYmFja29mZjoge1xuICAgICAgdHlwZTogJ2V4cG9uZW50aWFsJywgLy8gRXhwb25lbnRpYWwgYmFja29mZiBzdHJhdGVneVxuICAgICAgZGVsYXk6IDEwMDAsIC8vIEluaXRpYWwgZGVsYXkgaW4gbXNcbiAgICB9LFxuICAgIHJlbW92ZU9uQ29tcGxldGU6IHtcbiAgICAgICAgY291bnQ6IDEwMDAsIC8vIEtlZXAgdXAgdG8gMTAwMCBjb21wbGV0ZWQgam9ic1xuICAgICAgICBhZ2U6IDI0ICogNjAgKiA2MCwgLy8gS2VlcCBjb21wbGV0ZWQgam9icyBmb3IgdXAgdG8gMjQgaG91cnMgKGluIHNlY29uZHMpXG4gICAgfSxcbiAgICByZW1vdmVPbkZhaWw6IHtcbiAgICAgICAgY291bnQ6IDUwMDAsIC8vIEtlZXAgdXAgdG8gNTAwMCBmYWlsZWQgam9ic1xuICAgICAgICBhZ2U6IDcgKiAyNCAqIDYwICogNjAsIC8vIEtlZXAgZmFpbGVkIGpvYnMgZm9yIHVwIHRvIDcgZGF5c1xuICAgIH1cbiAgfSxcbn0pO1xuXG4vLyBZb3UgY2FuIGV4cG9ydCBvdGhlciBxdWV1ZXMgaGVyZSBhcyBuZWVkZWRcbi8vIGV4cG9ydCBjb25zdCBhbm90aGVyUXVldWUgPSBuZXcgUXVldWUoJ2Fub3RoZXItcXVldWUtbmFtZScsIHsgY29ubmVjdGlvbiB9KTtcblxuY29uc29sZS5sb2coYEJ1bGxNUSBxdWV1ZSBcInBvZGNhc3QtZ2VuZXJhdGlvblwiIGluaXRpYWxpemVkLmApO1xuXG4vLyBHcmFjZWZ1bCBzaHV0ZG93blxucHJvY2Vzcy5vbignU0lHSU5UJywgYXN5bmMgKCkgPT4ge1xuICBhd2FpdCBwb2RjYXN0R2VuZXJhdGlvblF1ZXVlLmNsb3NlKCk7XG4gIGF3YWl0IGNvbm5lY3Rpb24ucXVpdCgpO1xuICBwcm9jZXNzLmV4aXQoMCk7XG59KTtcblxucHJvY2Vzcy5vbignU0lHVEVSTScsIGFzeW5jICgpID0+IHtcbiAgYXdhaXQgcG9kY2FzdEdlbmVyYXRpb25RdWV1ZS5jbG9zZSgpO1xuICBhd2FpdCBjb25uZWN0aW9uLnF1aXQoKTtcbiAgcHJvY2Vzcy5leGl0KDApO1xufSk7Il0sIm5hbWVzIjpbIlF1ZXVlIiwiSU9SZWRpcyIsInJlZGlzSG9zdCIsInByb2Nlc3MiLCJlbnYiLCJSRURJU19IT1NUIiwicmVkaXNQb3J0IiwicGFyc2VJbnQiLCJSRURJU19QT1JUIiwiY29ubmVjdGlvbiIsIm1heFJldHJpZXNQZXJSZXF1ZXN0IiwiZW5hYmxlUmVhZHlDaGVjayIsIm9uIiwiY29uc29sZSIsImxvZyIsImVyciIsImVycm9yIiwicG9kY2FzdEdlbmVyYXRpb25RdWV1ZSIsImRlZmF1bHRKb2JPcHRpb25zIiwiYXR0ZW1wdHMiLCJiYWNrb2ZmIiwidHlwZSIsImRlbGF5IiwicmVtb3ZlT25Db21wbGV0ZSIsImNvdW50IiwiYWdlIiwicmVtb3ZlT25GYWlsIiwiY2xvc2UiLCJxdWl0IiwiZXhpdCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/shared/src/queues.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/process-document/route.ts":
/*!***********************************************!*\
  !*** ./src/app/api/process-document/route.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/../../node_modules/.pnpm/next@15.3.3_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase/server */ \"(rsc)/./src/lib/supabase/server.ts\");\n/* harmony import */ var _google_genai__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @google/genai */ \"(rsc)/../../node_modules/.pnpm/@google+genai@1.4.0_@modelcontextprotocol+sdk@1.12.1/node_modules/@google/genai/dist/node/index.mjs\");\n/* harmony import */ var shared_src_queues__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! shared/src/queues */ \"(rsc)/../../packages/shared/src/queues.ts\");\n// src/app/api/process-document/route.ts\n\n\n\n\n// Initialize the Google GenAI client with your API key\nconst apiKey = process.env.GOOGLE_API_KEY;\nif (!apiKey) {\n    console.error(\"GOOGLE_API_KEY is not set. Please check your environment variables.\");\n}\nconst ai = new _google_genai__WEBPACK_IMPORTED_MODULE_2__.GoogleGenAI({\n    apiKey: apiKey\n});\nasync function POST(request) {\n    console.log(\"Received request in /api/process-document\");\n    const supabase = await (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createClient)();\n    const { data: { user }, error: authError } = await supabase.auth.getUser();\n    if (authError || !user) {\n        console.error(\"API authentication error:\", authError ? authError.message : \"User not found.\");\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: authError?.message || 'Authentication required'\n        }, {\n            status: 401\n        });\n    }\n    console.log(\"Authenticated user ID:\", user.id);\n    try {\n        const body = await request.json();\n        const { storagePath, originalName, steeringPrompt } = body;\n        if (!storagePath || !originalName) {\n            console.error(\"Missing storagePath or originalName in request body\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: 'Missing required fields: storagePath and originalName'\n            }, {\n                status: 400\n            });\n        }\n        console.log('Received data in API route: (User, Path, Name, Prompt)', user.id, storagePath, originalName, steeringPrompt);\n        // Step 1: Download file from Supabase Storage\n        console.log(`Attempting to download file from Supabase Storage at path: ${storagePath}`);\n        const { data: fileDataBlob, error: downloadError } = await supabase.storage.from('documents').download(storagePath);\n        if (downloadError) {\n            console.error('Error downloading file from Supabase Storage:', downloadError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: `Error downloading file: ${downloadError.message}`\n            }, {\n                status: 500\n            });\n        }\n        if (!fileDataBlob) {\n            console.error('No file data received from Supabase Storage download.');\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: 'Failed to retrieve file data from storage.'\n            }, {\n                status: 500\n            });\n        }\n        console.log(`Successfully downloaded file \"${originalName}\" from Supabase Storage. Size: ${fileDataBlob.size} bytes.`);\n        const mimeType = fileDataBlob.type || 'application/octet-stream';\n        // Step 2: Upload to Google Gemini Files API\n        console.log(`Attempting to upload file \"${originalName}\" to Google Gemini Files API.`);\n        const fileToUpload = new File([\n            fileDataBlob\n        ], originalName, {\n            type: mimeType // Use the defined mimeType\n        });\n        const uploadResponse = await ai.files.upload({\n            file: fileToUpload\n        });\n        let geminiFile = uploadResponse;\n        console.log(`Initial upload complete via @google/genai. File Name: ${geminiFile.name}, State: ${geminiFile.state}`);\n        // Step 3: Validate file upload response and wait for processing\n        if (!geminiFile.name) {\n            console.error('File upload succeeded but no name returned from Gemini');\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: 'File upload failed: No file identifier returned from Gemini'\n            }, {\n                status: 500\n            });\n        }\n        const geminiFileName = geminiFile.name;\n        while(geminiFile.state === 'PROCESSING'){\n            console.log(`File is still processing (State: ${geminiFile.state}), retrying in 5 seconds...`);\n            await new Promise((resolve)=>setTimeout(resolve, 5000));\n            geminiFile = await ai.files.get({\n                name: geminiFileName\n            });\n            console.log(`Current file state: ${geminiFile.state}`);\n        }\n        if (geminiFile.state !== 'ACTIVE') {\n            console.error(`File processing failed or resulted in an unexpected state: ${geminiFile.state}`);\n            try {\n                if (geminiFile.state === 'FAILED') await ai.files.delete({\n                    name: geminiFileName\n                });\n            } catch (deleteError) {\n                console.warn('Failed to delete failed/stale file from Gemini:', deleteError);\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: `File processing resulted in state: ${geminiFile.state}`\n            }, {\n                status: 500\n            });\n        }\n        console.log(`File processing complete. State: ${geminiFile.state}. URI: ${geminiFile.uri}`);\n        // Step 4: Create metadata record in public.documents table\n        const fileUri = geminiFile.uri;\n        if (!fileUri) {\n            console.error('Missing file URI after processing');\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: 'File processing incomplete: Missing file URI'\n            }, {\n                status: 500\n            });\n        }\n        const { data: documentRecord, error: insertError } = await supabase.from('documents').insert({\n            user_id: user.id,\n            original_name: originalName,\n            storage_path: storagePath,\n            gemini_file_id: geminiFileName,\n            gemini_file_uri: fileUri,\n            gemini_file_state: geminiFile.state,\n            mime_type: mimeType,\n            status: 'PROCESSED_AWAITING_SCRIPT'\n        }).select().single();\n        if (insertError) {\n            console.error('Error inserting document record into Supabase:', insertError);\n            try {\n                await ai.files.delete({\n                    name: geminiFileName\n                });\n            } catch (deleteError) {\n                console.warn('Failed to cleanup Gemini file after DB error:', deleteError);\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: `Error saving document metadata: ${insertError.message}`\n            }, {\n                status: 500\n            });\n        }\n        const documentId = documentRecord.id;\n        console.log(`Document metadata saved to Supabase. DB Document ID: ${documentId}`);\n        // Step 5: Add job to BullMQ for script generation\n        const jobData = {\n            documentId: documentId,\n            userId: user.id,\n            steeringPrompt: steeringPrompt || null,\n            originalName: originalName\n        };\n        try {\n            const job = await shared_src_queues__WEBPACK_IMPORTED_MODULE_3__.podcastGenerationQueue.add('generate-script', jobData);\n            console.log(`Job added to podcastGenerationQueue. Job ID: ${job.id}, Data:`, jobData);\n        } catch (queueError) {\n            console.error('Error adding job to BullMQ queue:', queueError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: `File processed and metadata saved, but failed to queue for script generation: ${queueError.message}`,\n                documentId: documentId\n            }, {\n                status: 500\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: `File \"${originalName}\" uploaded and processed. Queued for podcast generation. Document ID: ${documentId}`,\n            documentId: documentId\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error('Error in /api/process-document:', error);\n        let errorMessage = 'Internal Server Error';\n        if (error instanceof Error) {\n            errorMessage = error.message;\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: errorMessage,\n            errorDetail: String(error)\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9wcm9jZXNzLWRvY3VtZW50L3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsd0NBQXdDO0FBRUc7QUFDVTtBQUNUO0FBQ2U7QUFFM0QsdURBQXVEO0FBQ3ZELE1BQU1JLFNBQVNDLFFBQVFDLEdBQUcsQ0FBQ0MsY0FBYztBQUN6QyxJQUFJLENBQUNILFFBQVE7SUFDWEksUUFBUUMsS0FBSyxDQUFDO0FBQ2hCO0FBQ0EsTUFBTUMsS0FBSyxJQUFJUixzREFBV0EsQ0FBQztJQUFFRSxRQUFRQTtBQUFRO0FBRXRDLGVBQWVPLEtBQUtDLE9BQWdCO0lBQ3pDSixRQUFRSyxHQUFHLENBQUM7SUFFWixNQUFNQyxXQUFXLE1BQU1iLGtFQUFZQTtJQUVuQyxNQUFNLEVBQUVjLE1BQU0sRUFBRUMsSUFBSSxFQUFFLEVBQUVQLE9BQU9RLFNBQVMsRUFBRSxHQUFHLE1BQU1ILFNBQVNJLElBQUksQ0FBQ0MsT0FBTztJQUV4RSxJQUFJRixhQUFhLENBQUNELE1BQU07UUFDdEJSLFFBQVFDLEtBQUssQ0FBQyw2QkFBNkJRLFlBQVlBLFVBQVVHLE9BQU8sR0FBRztRQUMzRSxPQUFPcEIscURBQVlBLENBQUNxQixJQUFJLENBQUM7WUFBRUQsU0FBU0gsV0FBV0csV0FBVztRQUEwQixHQUFHO1lBQUVFLFFBQVE7UUFBSTtJQUN2RztJQUNBZCxRQUFRSyxHQUFHLENBQUMsMEJBQTBCRyxLQUFLTyxFQUFFO0lBRTdDLElBQUk7UUFDRixNQUFNQyxPQUFPLE1BQU1aLFFBQVFTLElBQUk7UUFDL0IsTUFBTSxFQUFFSSxXQUFXLEVBQUVDLFlBQVksRUFBRUMsY0FBYyxFQUFFLEdBQUdIO1FBRXRELElBQUksQ0FBQ0MsZUFBZSxDQUFDQyxjQUFjO1lBQ2pDbEIsUUFBUUMsS0FBSyxDQUFDO1lBQ2QsT0FBT1QscURBQVlBLENBQUNxQixJQUFJLENBQUM7Z0JBQUVELFNBQVM7WUFBd0QsR0FBRztnQkFBRUUsUUFBUTtZQUFJO1FBQy9HO1FBRUFk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QUFNQyxVQUFVO1lBQ2RELFlBQVlBO1lBQ1pFLFFBQVFyRCxLQUFLTyxFQUFFO1lBQ2ZJLGdCQUFnQkEsa0JBQWtCO1lBQ2xDRCxjQUFjQTtRQUNoQjtRQUVBLElBQUk7WUFDRixNQUFNNEMsTUFBTSxNQUFNbkUscUVBQXNCQSxDQUFDb0UsR0FBRyxDQUFDLG1CQUFtQkg7WUFDaEU1RCxRQUFRSyxHQUFHLENBQUMsQ0FBQyw2Q0FBNkMsRUFBRXlELElBQUkvQyxFQUFFLENBQUMsT0FBTyxDQUFDLEVBQUU2QztRQUMvRSxFQUFFLE9BQU9JLFlBQWlCO1lBQ3hCaEUsUUFBUUMsS0FBSyxDQUFDLHFDQUFxQytEO1lBQ25ELE9BQU94RSxxREFBWUEsQ0FBQ3FCLElBQUksQ0FBQztnQkFDdkJELFNBQVMsQ0FBQyw4RUFBOEUsRUFBRW9ELFdBQVdwRCxPQUFPLEVBQUU7Z0JBQzlHK0MsWUFBWUE7WUFDZCxHQUFHO2dCQUFFN0MsUUFBUTtZQUFJO1FBQ25CO1FBRUEsT0FBT3RCLHFEQUFZQSxDQUFDcUIsSUFBSSxDQUFDO1lBQ3ZCRCxTQUFTLENBQUMsTUFBTSxFQUFFTSxhQUFhLHNFQUFzRSxFQUFFeUMsWUFBWTtZQUNuSEEsWUFBWUE7UUFDZCxHQUFHO1lBQUU3QyxRQUFRO1FBQUk7SUFFbkIsRUFBRSxPQUFPYixPQUFZO1FBQ25CRCxRQUFRQyxLQUFLLENBQUMsbUNBQW1DQTtRQUNqRCxJQUFJZ0UsZUFBZTtRQUNuQixJQUFJaEUsaUJBQWlCaUUsT0FBTztZQUMxQkQsZUFBZWhFLE1BQU1XLE9BQU87UUFDOUI7UUFDQSxPQUFPcEIscURBQVlBLENBQUNxQixJQUFJLENBQUM7WUFDdkJELFNBQVNxRDtZQUNURSxhQUFhQyxPQUFPbkU7UUFDdEIsR0FBRztZQUFFYSxRQUFRO1FBQUk7SUFDbkI7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2pvc2h1YWphbnNldmFucmVuc2J1cmcvRGVza3RvcC80LiBDb2RlL3BvZGNhc3QtcGxhdGZvcm0vc2VydmljZXMvd2ViYXBwL3NyYy9hcHAvYXBpL3Byb2Nlc3MtZG9jdW1lbnQvcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2FwcC9hcGkvcHJvY2Vzcy1kb2N1bWVudC9yb3V0ZS50c1xuXG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAL2xpYi9zdXBhYmFzZS9zZXJ2ZXInO1xuaW1wb3J0IHsgR29vZ2xlR2VuQUkgfSBmcm9tIFwiQGdvb2dsZS9nZW5haVwiO1xuaW1wb3J0IHsgcG9kY2FzdEdlbmVyYXRpb25RdWV1ZSB9IGZyb20gJ3NoYXJlZC9zcmMvcXVldWVzJztcblxuLy8gSW5pdGlhbGl6ZSB0aGUgR29vZ2xlIEdlbkFJIGNsaWVudCB3aXRoIHlvdXIgQVBJIGtleVxuY29uc3QgYXBpS2V5ID0gcHJvY2Vzcy5lbnYuR09PR0xFX0FQSV9LRVk7XG5pZiAoIWFwaUtleSkge1xuICBjb25zb2xlLmVycm9yKFwiR09PR0xFX0FQSV9LRVkgaXMgbm90IHNldC4gUGxlYXNlIGNoZWNrIHlvdXIgZW52aXJvbm1lbnQgdmFyaWFibGVzLlwiKTtcbn1cbmNvbnN0IGFpID0gbmV3IEdvb2dsZUdlbkFJKHsgYXBpS2V5OiBhcGlLZXkhIH0pO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XG4gIGNvbnNvbGUubG9nKFwiUmVjZWl2ZWQgcmVxdWVzdCBpbiAvYXBpL3Byb2Nlc3MtZG9jdW1lbnRcIik7XG5cbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuICBjb25zdCB7IGRhdGE6IHsgdXNlciB9LCBlcnJvcjogYXV0aEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuICBpZiAoYXV0aEVycm9yIHx8ICF1c2VyKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkFQSSBhdXRoZW50aWNhdGlvbiBlcnJvcjpcIiwgYXV0aEVycm9yID8gYXV0aEVycm9yLm1lc3NhZ2UgOiBcIlVzZXIgbm90IGZvdW5kLlwiKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBtZXNzYWdlOiBhdXRoRXJyb3I/Lm1lc3NhZ2UgfHwgJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyB9LCB7IHN0YXR1czogNDAxIH0pO1xuICB9XG4gIGNvbnNvbGUubG9nKFwiQXV0aGVudGljYXRlZCB1c2VyIElEOlwiLCB1c2VyLmlkKTtcblxuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBjb25zdCB7IHN0b3JhZ2VQYXRoLCBvcmlnaW5hbE5hbWUsIHN0ZWVyaW5nUHJvbXB0IH0gPSBib2R5O1xuXG4gICAgaWYgKCFzdG9yYWdlUGF0aCB8fCAhb3JpZ2luYWxOYW1lKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiTWlzc2luZyBzdG9yYWdlUGF0aCBvciBvcmlnaW5hbE5hbWUgaW4gcmVxdWVzdCBib2R5XCIpO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbWVzc2FnZTogJ01pc3NpbmcgcmVxdWlyZWQgZmllbGRzOiBzdG9yYWdlUGF0aCBhbmQgb3JpZ2luYWxOYW1lJyB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdSZWNlaXZlZCBkYXRhIGluIEFQSSByb3V0ZTogKFVzZXIsIFBhdGgsIE5hbWUsIFByb21wdCknLCB1c2VyLmlkLCBzdG9yYWdlUGF0aCwgb3JpZ2luYWxOYW1lLCBzdGVlcmluZ1Byb21wdCk7XG5cbiAgICAvLyBTdGVwIDE6IERvd25sb2FkIGZpbGUgZnJvbSBTdXBhYmFzZSBTdG9yYWdlXG4gICAgY29uc29sZS5sb2coYEF0dGVtcHRpbmcgdG8gZG93bmxvYWQgZmlsZSBmcm9tIFN1cGFiYXNlIFN0b3JhZ2UgYXQgcGF0aDogJHtzdG9yYWdlUGF0aH1gKTtcbiAgICBjb25zdCB7IGRhdGE6IGZpbGVEYXRhQmxvYiwgZXJyb3I6IGRvd25sb2FkRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnN0b3JhZ2VcbiAgICAgIC5mcm9tKCdkb2N1bWVudHMnKVxuICAgICAgLmRvd25sb2FkKHN0b3JhZ2VQYXRoKTtcblxuICAgIGlmIChkb3dubG9hZEVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkb3dubG9hZGluZyBmaWxlIGZyb20gU3VwYWJhc2UgU3RvcmFnZTonLCBkb3dubG9hZEVycm9yKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG1lc3NhZ2U6IGBFcnJvciBkb3dubG9hZGluZyBmaWxlOiAke2Rvd25sb2FkRXJyb3IubWVzc2FnZX1gIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxuICAgIGlmICghZmlsZURhdGFCbG9iKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdObyBmaWxlIGRhdGEgcmVjZWl2ZWQgZnJvbSBTdXBhYmFzZSBTdG9yYWdlIGRvd25sb2FkLicpO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbWVzc2FnZTogJ0ZhaWxlZCB0byByZXRyaWV2ZSBmaWxlIGRhdGEgZnJvbSBzdG9yYWdlLicgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coYFN1Y2Nlc3NmdWxseSBkb3dubG9hZGVkIGZpbGUgXCIke29yaWdpbmFsTmFtZX1cIiBmcm9tIFN1cGFiYXNlIFN0b3JhZ2UuIFNpemU6ICR7ZmlsZURhdGFCbG9iLnNpemV9IGJ5dGVzLmApO1xuXG4gICAgY29uc3QgbWltZVR5cGUgPSBmaWxlRGF0YUJsb2IudHlwZSB8fCAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJztcblxuICAgIC8vIFN0ZXAgMjogVXBsb2FkIHRvIEdvb2dsZSBHZW1pbmkgRmlsZXMgQVBJXG4gICAgY29uc29sZS5sb2coYEF0dGVtcHRpbmcgdG8gdXBsb2FkIGZpbGUgXCIke29yaWdpbmFsTmFtZX1cIiB0byBHb29nbGUgR2VtaW5pIEZpbGVzIEFQSS5gKTtcbiAgICBjb25zdCBmaWxlVG9VcGxvYWQgPSBuZXcgRmlsZShbZmlsZURhdGFCbG9iXSwgb3JpZ2luYWxOYW1lLCB7XG4gICAgICB0eXBlOiBtaW1lVHlwZSAvLyBVc2UgdGhlIGRlZmluZWQgbWltZVR5cGVcbiAgICB9KTtcblxuICAgIGNvbnN0IHVwbG9hZFJlc3BvbnNlID0gYXdhaXQgYWkuZmlsZXMudXBsb2FkKHtcbiAgICAgIGZpbGU6IGZpbGVUb1VwbG9hZCxcbiAgICB9KTtcblxuICAgIGxldCBnZW1pbmlGaWxlID0gdXBsb2FkUmVzcG9uc2U7XG4gICAgY29uc29sZS5sb2coYEluaXRpYWwgdXBsb2FkIGNvbXBsZXRlIHZpYSBAZ29vZ2xlL2dlbmFpLiBGaWxlIE5hbWU6ICR7Z2VtaW5pRmlsZS5uYW1lfSwgU3RhdGU6ICR7Z2VtaW5pRmlsZS5zdGF0ZX1gKTtcblxuICAgIC8vIFN0ZXAgMzogVmFsaWRhdGUgZmlsZSB1cGxvYWQgcmVzcG9uc2UgYW5kIHdhaXQgZm9yIHByb2Nlc3NpbmdcbiAgICBpZiAoIWdlbWluaUZpbGUubmFtZSkge1xuICAgICAgY29uc29sZS5lcnJvcignRmlsZSB1cGxvYWQgc3VjY2VlZGVkIGJ1dCBubyBuYW1lIHJldHVybmVkIGZyb20gR2VtaW5pJyk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBtZXNzYWdlOiAnRmlsZSB1cGxvYWQgZmFpbGVkOiBObyBmaWxlIGlkZW50aWZpZXIgcmV0dXJuZWQgZnJvbSBHZW1pbmknIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGdlbWluaUZpbGVOYW1lID0gZ2VtaW5pRmlsZS5uYW1lO1xuXG4gICAgd2hpbGUgKGdlbWluaUZpbGUuc3RhdGUgPT09ICdQUk9DRVNTSU5HJykge1xuICAgICAgY29uc29sZS5sb2coYEZpbGUgaXMgc3RpbGwgcHJvY2Vzc2luZyAoU3RhdGU6ICR7Z2VtaW5pRmlsZS5zdGF0ZX0pLCByZXRyeWluZyBpbiA1IHNlY29uZHMuLi5gKTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMDApKTtcbiAgICAgIGdlbWluaUZpbGUgPSBhd2FpdCBhaS5maWxlcy5nZXQoeyBuYW1lOiBnZW1pbmlGaWxlTmFtZSB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGBDdXJyZW50IGZpbGUgc3RhdGU6ICR7Z2VtaW5pRmlsZS5zdGF0ZX1gKTtcbiAgICB9XG5cbiAgICBpZiAoZ2VtaW5pRmlsZS5zdGF0ZSAhPT0gJ0FDVElWRScpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEZpbGUgcHJvY2Vzc2luZyBmYWlsZWQgb3IgcmVzdWx0ZWQgaW4gYW4gdW5leHBlY3RlZCBzdGF0ZTogJHtnZW1pbmlGaWxlLnN0YXRlfWApO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYoZ2VtaW5pRmlsZS5zdGF0ZSA9PT0gJ0ZBSUxFRCcpIGF3YWl0IGFpLmZpbGVzLmRlbGV0ZSh7IG5hbWU6IGdlbWluaUZpbGVOYW1lIH0pO1xuICAgICAgfSBjYXRjaCAoZGVsZXRlRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gZGVsZXRlIGZhaWxlZC9zdGFsZSBmaWxlIGZyb20gR2VtaW5pOicsIGRlbGV0ZUVycm9yKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG1lc3NhZ2U6IGBGaWxlIHByb2Nlc3NpbmcgcmVzdWx0ZWQgaW4gc3RhdGU6ICR7Z2VtaW5pRmlsZS5zdGF0ZX1gIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKGBGaWxlIHByb2Nlc3NpbmcgY29tcGxldGUuIFN0YXRlOiAke2dlbWluaUZpbGUuc3RhdGV9LiBVUkk6ICR7Z2VtaW5pRmlsZS51cml9YCk7XG5cbiAgICAvLyBTdGVwIDQ6IENyZWF0ZSBtZXRhZGF0YSByZWNvcmQgaW4gcHVibGljLmRvY3VtZW50cyB0YWJsZVxuICAgIGNvbnN0IGZpbGVVcmkgPSBnZW1pbmlGaWxlLnVyaTtcbiAgICBpZiAoIWZpbGVVcmkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ01pc3NpbmcgZmlsZSBVUkkgYWZ0ZXIgcHJvY2Vzc2luZycpO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbWVzc2FnZTogJ0ZpbGUgcHJvY2Vzc2luZyBpbmNvbXBsZXRlOiBNaXNzaW5nIGZpbGUgVVJJJyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YTogZG9jdW1lbnRSZWNvcmQsIGVycm9yOiBpbnNlcnRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdkb2N1bWVudHMnKVxuICAgICAgLmluc2VydCh7XG4gICAgICAgIHVzZXJfaWQ6IHVzZXIuaWQsXG4gICAgICAgIG9yaWdpbmFsX25hbWU6IG9yaWdpbmFsTmFtZSxcbiAgICAgICAgc3RvcmFnZV9wYXRoOiBzdG9yYWdlUGF0aCxcbiAgICAgICAgZ2VtaW5pX2ZpbGVfaWQ6IGdlbWluaUZpbGVOYW1lLFxuICAgICAgICBnZW1pbmlfZmlsZV91cmk6IGZpbGVVcmksXG4gICAgICAgIGdlbWluaV9maWxlX3N0YXRlOiBnZW1pbmlGaWxlLnN0YXRlLFxuICAgICAgICBtaW1lX3R5cGU6IG1pbWVUeXBlLFxuICAgICAgICBzdGF0dXM6ICdQUk9DRVNTRURfQVdBSVRJTkdfU0NSSVBUJyxcbiAgICAgIH0pXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5zaW5nbGUoKTtcblxuICAgIGlmIChpbnNlcnRFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5zZXJ0aW5nIGRvY3VtZW50IHJlY29yZCBpbnRvIFN1cGFiYXNlOicsIGluc2VydEVycm9yKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGFpLmZpbGVzLmRlbGV0ZSh7IG5hbWU6IGdlbWluaUZpbGVOYW1lIH0pO1xuICAgICAgfSBjYXRjaCAoZGVsZXRlRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gY2xlYW51cCBHZW1pbmkgZmlsZSBhZnRlciBEQiBlcnJvcjonLCBkZWxldGVFcnJvcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBtZXNzYWdlOiBgRXJyb3Igc2F2aW5nIGRvY3VtZW50IG1ldGFkYXRhOiAke2luc2VydEVycm9yLm1lc3NhZ2V9YCB9LCB7IHN0YXR1czogNTAwIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGRvY3VtZW50SWQgPSBkb2N1bWVudFJlY29yZC5pZDtcbiAgICBjb25zb2xlLmxvZyhgRG9jdW1lbnQgbWV0YWRhdGEgc2F2ZWQgdG8gU3VwYWJhc2UuIERCIERvY3VtZW50IElEOiAke2RvY3VtZW50SWR9YCk7XG5cbiAgICAvLyBTdGVwIDU6IEFkZCBqb2IgdG8gQnVsbE1RIGZvciBzY3JpcHQgZ2VuZXJhdGlvblxuICAgIGNvbnN0IGpvYkRhdGEgPSB7XG4gICAgICBkb2N1bWVudElkOiBkb2N1bWVudElkLFxuICAgICAgdXNlcklkOiB1c2VyLmlkLFxuICAgICAgc3RlZXJpbmdQcm9tcHQ6IHN0ZWVyaW5nUHJvbXB0IHx8IG51bGwsXG4gICAgICBvcmlnaW5hbE5hbWU6IG9yaWdpbmFsTmFtZSxcbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGpvYiA9IGF3YWl0IHBvZGNhc3RHZW5lcmF0aW9uUXVldWUuYWRkKCdnZW5lcmF0ZS1zY3JpcHQnLCBqb2JEYXRhKTtcbiAgICAgIGNvbnNvbGUubG9nKGBKb2IgYWRkZWQgdG8gcG9kY2FzdEdlbmVyYXRpb25RdWV1ZS4gSm9iIElEOiAke2pvYi5pZH0sIERhdGE6YCwgam9iRGF0YSk7XG4gICAgfSBjYXRjaCAocXVldWVFcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgam9iIHRvIEJ1bGxNUSBxdWV1ZTonLCBxdWV1ZUVycm9yKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IGBGaWxlIHByb2Nlc3NlZCBhbmQgbWV0YWRhdGEgc2F2ZWQsIGJ1dCBmYWlsZWQgdG8gcXVldWUgZm9yIHNjcmlwdCBnZW5lcmF0aW9uOiAke3F1ZXVlRXJyb3IubWVzc2FnZX1gLFxuICAgICAgICBkb2N1bWVudElkOiBkb2N1bWVudElkLFxuICAgICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgbWVzc2FnZTogYEZpbGUgXCIke29yaWdpbmFsTmFtZX1cIiB1cGxvYWRlZCBhbmQgcHJvY2Vzc2VkLiBRdWV1ZWQgZm9yIHBvZGNhc3QgZ2VuZXJhdGlvbi4gRG9jdW1lbnQgSUQ6ICR7ZG9jdW1lbnRJZH1gLFxuICAgICAgZG9jdW1lbnRJZDogZG9jdW1lbnRJZCxcbiAgICB9LCB7IHN0YXR1czogMjAwIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiAvYXBpL3Byb2Nlc3MtZG9jdW1lbnQ6JywgZXJyb3IpO1xuICAgIGxldCBlcnJvck1lc3NhZ2UgPSAnSW50ZXJuYWwgU2VydmVyIEVycm9yJztcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICB9XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZSxcbiAgICAgIGVycm9yRGV0YWlsOiBTdHJpbmcoZXJyb3IpLFxuICAgIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjcmVhdGVDbGllbnQiLCJHb29nbGVHZW5BSSIsInBvZGNhc3RHZW5lcmF0aW9uUXVldWUiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiR09PR0xFX0FQSV9LRVkiLCJjb25zb2xlIiwiZXJyb3IiLCJhaSIsIlBPU1QiLCJyZXF1ZXN0IiwibG9nIiwic3VwYWJhc2UiLCJkYXRhIiwidXNlciIsImF1dGhFcnJvciIsImF1dGgiLCJnZXRVc2VyIiwibWVzc2FnZSIsImpzb24iLCJzdGF0dXMiLCJpZCIsImJvZHkiLCJzdG9yYWdlUGF0aCIsIm9yaWdpbmFsTmFtZSIsInN0ZWVyaW5nUHJvbXB0IiwiZmlsZURhdGFCbG9iIiwiZG93bmxvYWRFcnJvciIsInN0b3JhZ2UiLCJmcm9tIiwiZG93bmxvYWQiLCJzaXplIiwibWltZVR5cGUiLCJ0eXBlIiwiZmlsZVRvVXBsb2FkIiwiRmlsZSIsInVwbG9hZFJlc3BvbnNlIiwiZmlsZXMiLCJ1cGxvYWQiLCJmaWxlIiwiZ2VtaW5pRmlsZSIsIm5hbWUiLCJzdGF0ZSIsImdlbWluaUZpbGVOYW1lIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiZ2V0IiwiZGVsZXRlIiwiZGVsZXRlRXJyb3IiLCJ3YXJuIiwidXJpIiwiZmlsZVVyaSIsImRvY3VtZW50UmVjb3JkIiwiaW5zZXJ0RXJyb3IiLCJpbnNlcnQiLCJ1c2VyX2lkIiwib3JpZ2luYWxfbmFtZSIsInN0b3JhZ2VfcGF0aCIsImdlbWluaV9maWxlX2lkIiwiZ2VtaW5pX2ZpbGVfdXJpIiwiZ2VtaW5pX2ZpbGVfc3RhdGUiLCJtaW1lX3R5cGUiLCJzZWxlY3QiLCJzaW5nbGUiLCJkb2N1bWVudElkIiwiam9iRGF0YSIsInVzZXJJZCIsImpvYiIsImFkZCIsInF1ZXVlRXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJFcnJvciIsImVycm9yRGV0YWlsIiwiU3RyaW5nIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/process-document/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase/server.ts":
/*!************************************!*\
  !*** ./src/lib/supabase/server.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ createClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/ssr */ \"(rsc)/../../node_modules/.pnpm/@supabase+ssr@0.6.1_@supabase+supabase-js@2.50.0/node_modules/@supabase/ssr/dist/module/index.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(rsc)/../../node_modules/.pnpm/next@15.3.3_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/api/headers.js\");\n// lib/supabase/server.ts\n\n // Assuming this returns Promise in Next.js 15+\n// This function is for Server Components, Route Handlers, and Server Actions\nasync function createClient() {\n    const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)(); // Correctly awaiting the Promise\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createServerClient)(\"https://ejsiiuhtvnuubljvwkrm.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVqc2lpdWh0dm51dWJsanZ3a3JtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg2ODQ0MzksImV4cCI6MjA2NDI2MDQzOX0.2pNsg4H6grTD-CUBivf83Yx31NrbYIa45ekZKZMtCFk\", {\n        cookies: {\n            getAll () {\n                return cookieStore.getAll();\n            },\n            setAll (cookiesToSet) {\n                try {\n                    cookiesToSet.forEach(({ name, value, options })=>{\n                        cookieStore.set(name, value, options);\n                    });\n                } catch (error) {\n                // The `setAll` method was called from a Server Component.\n                // This can be ignored if you have middleware refreshing\n                // user sessions.\n                // console.error('Error setting cookies in server client (setAll):', error);\n                }\n            }\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N1cGFiYXNlL3NlcnZlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSx5QkFBeUI7QUFDOEM7QUFDaEMsQ0FBQywrQ0FBK0M7QUFFdkYsNkVBQTZFO0FBQ3RFLGVBQWVFO0lBQ3BCLE1BQU1DLGNBQWMsTUFBTUYscURBQU9BLElBQUksaUNBQWlDO0lBRXRFLE9BQU9ELGlFQUFrQkEsQ0FDdkJJLDBDQUFvQyxFQUNwQ0Esa05BQXlDLEVBQ3pDO1FBQ0VILFNBQVM7WUFDUE87Z0JBQ0UsT0FBT0wsWUFBWUssTUFBTTtZQUMzQjtZQUNBQyxRQUFPQyxZQUF1RTtnQkFDNUUsSUFBSTtvQkFDRkEsYUFBYUMsT0FBTyxDQUFDLENBQUMsRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sRUFBRTt3QkFDNUNYLFlBQVlZLEdBQUcsQ0FBQ0gsTUFBTUMsT0FBT0M7b0JBQy9CO2dCQUNGLEVBQUUsT0FBT0UsT0FBTztnQkFDZCwwREFBMEQ7Z0JBQzFELHdEQUF3RDtnQkFDeEQsaUJBQWlCO2dCQUNqQiw0RUFBNEU7Z0JBQzlFO1lBQ0Y7UUFDRjtJQUNGO0FBRUoiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb3NodWFqYW5zZXZhbnJlbnNidXJnL0Rlc2t0b3AvNC4gQ29kZS9wb2RjYXN0LXBsYXRmb3JtL3NlcnZpY2VzL3dlYmFwcC9zcmMvbGliL3N1cGFiYXNlL3NlcnZlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBsaWIvc3VwYWJhc2Uvc2VydmVyLnRzXG5pbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQsIHR5cGUgQ29va2llT3B0aW9ucyB9IGZyb20gJ0BzdXBhYmFzZS9zc3InO1xuaW1wb3J0IHsgY29va2llcyB9IGZyb20gJ25leHQvaGVhZGVycyc7IC8vIEFzc3VtaW5nIHRoaXMgcmV0dXJucyBQcm9taXNlIGluIE5leHQuanMgMTUrXG5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgZm9yIFNlcnZlciBDb21wb25lbnRzLCBSb3V0ZSBIYW5kbGVycywgYW5kIFNlcnZlciBBY3Rpb25zXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQ2xpZW50KCkgeyAvLyBNdXN0IGJlIGFzeW5jIGlmIGNvb2tpZXMoKSBpcyBhc3luY1xuICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKTsgLy8gQ29ycmVjdGx5IGF3YWl0aW5nIHRoZSBQcm9taXNlXG5cbiAgcmV0dXJuIGNyZWF0ZVNlcnZlckNsaWVudChcbiAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcbiAgICB7XG4gICAgICBjb29raWVzOiB7XG4gICAgICAgIGdldEFsbCgpIHtcbiAgICAgICAgICByZXR1cm4gY29va2llU3RvcmUuZ2V0QWxsKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEFsbChjb29raWVzVG9TZXQ6IHsgbmFtZTogc3RyaW5nOyB2YWx1ZTogc3RyaW5nOyBvcHRpb25zOiBDb29raWVPcHRpb25zIH1bXSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb29raWVzVG9TZXQuZm9yRWFjaCgoeyBuYW1lLCB2YWx1ZSwgb3B0aW9ucyB9KSA9PiB7XG4gICAgICAgICAgICAgIGNvb2tpZVN0b3JlLnNldChuYW1lLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gVGhlIGBzZXRBbGxgIG1ldGhvZCB3YXMgY2FsbGVkIGZyb20gYSBTZXJ2ZXIgQ29tcG9uZW50LlxuICAgICAgICAgICAgLy8gVGhpcyBjYW4gYmUgaWdub3JlZCBpZiB5b3UgaGF2ZSBtaWRkbGV3YXJlIHJlZnJlc2hpbmdcbiAgICAgICAgICAgIC8vIHVzZXIgc2Vzc2lvbnMuXG4gICAgICAgICAgICAvLyBjb25zb2xlLmVycm9yKCdFcnJvciBzZXR0aW5nIGNvb2tpZXMgaW4gc2VydmVyIGNsaWVudCAoc2V0QWxsKTonLCBlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9XG4gICk7XG59Il0sIm5hbWVzIjpbImNyZWF0ZVNlcnZlckNsaWVudCIsImNvb2tpZXMiLCJjcmVhdGVDbGllbnQiLCJjb29raWVTdG9yZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImdldEFsbCIsInNldEFsbCIsImNvb2tpZXNUb1NldCIsImZvckVhY2giLCJuYW1lIiwidmFsdWUiLCJvcHRpb25zIiwic2V0IiwiZXJyb3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase/server.ts\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/next@15.3.3_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@15.3.3_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "?322c":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?c822":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("fs/promises");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "module":
/*!*************************!*\
  !*** external "module" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("module");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "node:events":
/*!******************************!*\
  !*** external "node:events" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:events");

/***/ }),

/***/ "node:process":
/*!*******************************!*\
  !*** external "node:process" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:process");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:util");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("string_decoder");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@15.3.3_react-dom@19.1.0_react@19.1.0__react@19.1.0","vendor-chunks/tr46@0.0.3","vendor-chunks/@supabase+auth-js@2.70.0","vendor-chunks/ws@8.18.2","vendor-chunks/@supabase+realtime-js@2.11.10","vendor-chunks/@supabase+postgrest-js@1.19.4","vendor-chunks/@supabase+node-fetch@2.6.15","vendor-chunks/whatwg-url@5.0.0","vendor-chunks/@supabase+storage-js@2.7.1","vendor-chunks/@supabase+ssr@0.6.1_@supabase+supabase-js@2.50.0","vendor-chunks/@supabase+supabase-js@2.50.0","vendor-chunks/cookie@1.0.2","vendor-chunks/@supabase+functions-js@2.4.4","vendor-chunks/webidl-conversions@3.0.1","vendor-chunks/bullmq@5.53.2","vendor-chunks/semver@7.7.2","vendor-chunks/google-auth-library@9.15.1","vendor-chunks/ioredis@5.6.1","vendor-chunks/uuid@9.0.1","vendor-chunks/zod@3.25.56","vendor-chunks/gaxios@6.7.1","vendor-chunks/msgpackr@1.11.4","vendor-chunks/jws@4.0.0","vendor-chunks/cron-parser@4.9.0","vendor-chunks/debug@4.4.1","vendor-chunks/redis-errors@1.2.0","vendor-chunks/json-bigint@1.0.0","vendor-chunks/google-logging-utils@0.0.2","vendor-chunks/standard-as-callback@2.1.0","vendor-chunks/redis-parser@3.0.0","vendor-chunks/https-proxy-agent@7.0.6","vendor-chunks/gcp-metadata@6.1.1","vendor-chunks/ecdsa-sig-formatter@1.0.11","vendor-chunks/agent-base@7.1.3","vendor-chunks/@ioredis+commands@1.2.0","vendor-chunks/tslib@2.8.1","vendor-chunks/node-fetch@2.7.0","vendor-chunks/@google+genai@1.4.0_@modelcontextprotocol+sdk@1.12.1","vendor-chunks/supports-color@8.1.1","vendor-chunks/safe-buffer@5.2.1","vendor-chunks/node-abort-controller@3.1.1","vendor-chunks/ms@2.1.3","vendor-chunks/luxon@3.6.1","vendor-chunks/lodash.isarguments@3.1.0","vendor-chunks/lodash.defaults@4.2.0","vendor-chunks/jwa@2.0.1","vendor-chunks/is-stream@2.0.1","vendor-chunks/has-flag@4.0.0","vendor-chunks/gtoken@7.1.0","vendor-chunks/extend@3.0.2","vendor-chunks/denque@2.1.0","vendor-chunks/cluster-key-slot@1.1.2","vendor-chunks/buffer-equal-constant-time@1.0.1","vendor-chunks/bignumber.js@9.3.0","vendor-chunks/base64-js@1.5.1"], () => (__webpack_exec__("(rsc)/../../node_modules/.pnpm/next@15.3.3_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fprocess-document%2Froute&page=%2Fapi%2Fprocess-document%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprocess-document%2Froute.ts&appDir=%2FUsers%2Fjoshuajansevanrensburg%2FDesktop%2F4.%20Code%2Fpodcast-platform%2Fservices%2Fwebapp%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjoshuajansevanrensburg%2FDesktop%2F4.%20Code%2Fpodcast-platform%2Fservices%2Fwebapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();